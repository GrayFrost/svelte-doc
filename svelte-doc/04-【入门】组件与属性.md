## 组件式开发

在项目开发中，我们通常推崇组件式的开发。所谓组件式，即抽离一些通用的逻辑到一个文件中组装成一个组件，当页面有用到该功能时，直接调用组件即可。那组件除了内部维持自身的逻辑之外，还需要通过接受外部传进来的数据，来实现组件的动态性和灵活性。

## 传值

举个最简单的todolist的例子，我们可以把列表展示封装成一个组件，组件的内部逻辑便是把列表数据展示出来，而对外则接收列表数据。页面引用了这个组件后，可以通过传递的是todo list还是done list来展示不同的数据。那传值在这里便是关键的一环。

当我们从父页面向子页面/组件传值时，通常传递的无非就是父页面的状态，亦或者是父页面的方法，那这两者在Svelte中该如何传递呢？

### 传递数据

在上一章的结尾处，我们遇到了如下代码：
```javascript
<script>
	export let value;
</script>
```

我们在页面中正常声明变量是`let value;`，当我们在前边添加`export`关键字时，便相当于把变量声明标记为是一个对外导出的属性，即*prop*，在外部引用该文件后，则可以通过属性赋值的形式来进行传值。
```html
<script>
	import Child from './Child.svelte';
	let value = ''
</script>

<Child value={value} />
```

prop默认值

```html
<script>
  export let onChange;

  const handleChange = (e) => {
    onChange(e.target.value)
  }
</script>

<input on:input={handleChange} />
```

```html
<script>
  import Child from './Chapter00_Child.svelte';
	let value = ''
	const onChange = (v) => {
		value = v;
	}
</script>

<Child onChange={onChange} />
<p>{value}</p>
```

const 只读prop

如何把class设置成prop
```html
<script> 
  let className;
  export { className as class };
</script>
```
  

### 方法调用

思考一个问题，export声明的变量能是一个方法吗？

  

dispatch 值的获取， 展示一下源码？event.detail

  

多层嵌套时的方法转发，通过简写的形式

```

<Inner on:message/>

```

当出现属性名和值一样时 (`name={name}`)，可以简写为 `{name}`

  

解构传值

  

`$$props`


  

[createEventDispatcher](https://www.svelte.cn/docs#createEventDispatcher)